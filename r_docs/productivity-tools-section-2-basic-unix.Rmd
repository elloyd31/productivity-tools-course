---
title: 'Productivity Tools Section 2: Basic Unix'
author: "Erin Lloyd"
date: "29/01/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

The examples here and in videos refer to this hypothetical file system

![Figure 2.1: Hypothetical file system](../images/hypothetical-file-system.png){width=70%}

## 2.1 Introduction to Unix

### Organizing with Unix


### The Terminal

The terminal helps to organize files in the system.  

On Mac, use utilities > terminal.  

On windows, use Git bash program.  

Use the keyboard to navigate the command line.  


### The Filesystem

We refer to all the files, folders, and programs (executables) on your computer as the **filesystem**.  

Your filesystem is organized as a series of nested folders each containing files, folders, and executables. (see the visualization in the textbook)  

In Unix, folders are referred to as directories and directories that are inside other directories are often referred to as subdirectories.   

The home directory is where all your stuff is kept.  There is a hierarchical nature to the file system.  

**Note for Windows Users**: The typical R installation will make your Documents directory your home directory in R. This will likely be different from your home directory in Git Bash. Generally, when we discuss home directories, we refer to the Unix home directory which for Windows, in this book, is the Git Bash Unix directory.  


### Working Directory  

The working directory is the current location.  

Each terminal window has a working directory associated with it.  

The "pwd" command will display your working directory. The "/" symbol separates directories, while the first "/" at the beginning of the path stands for the root directory. When a path starts with "/", it is a "full path", which finds the current directory from the root directory. "Relative path" will be introduced soon.  

"~" means the home directory.  


## 2.2 Working with Unix

### Unix Commands

navigate the file system with commands introduced in this video.  

Auto-complete paths, commands and file names with the "Tab" key.  

ls #list dir content  

mkdir folder_name #create directory called "folder_name"  

rmdir folder_name  #remove an empty directory as long as it is empty  

rm -r folder_name  #remove dir that is not empty, "r" stands for recursive  

cd: change dir  

../ # two dots represents parent dir  

. # single dot represents current workingdir   

cd ~/projects # concatenate with forward slashes  

cd ../.. # change to two parent layer beyond  

cd -  # whatever dir you were before  

cd  # return to the home dir  


### mv and rm: Moving and Removing Files

The *mv* command moves files.  

**[warning]** mv will not ask you to confirm the move, and it could potentially overwrite a file.  

The *rm* command removes files.  

**[warning]** rm is permanent, which is different than throwing a folder in the trash.  


mv path-to-file path-to-destination-directory  

rm filename-1 filename-2 filename-3  


### less: Looking at a File

*less* allows you to quickly look at the content of a file  

Use *q* to exit the *less* page  

use the arrows to navigate in the *less* page  


less cv.tex  


### Preparing for a Data Science Project

Ideally, files (code, data, output) should be structured and self-contained  

In a project, we prefer using relative paths (path relative to the default working directory) instead of the full path so that code can run smoothly on other individual's computers.  

It is good practice to write a README.txt file to introduce the file structure to facilitate collaboration and for your future reference.  

## Comprehension Check: Basic Unix

### Q1

It is important to know which directory, or folder, you‚Äôre in when you are working from the command line in Unix. Which line of code will tell you the current working directory?  

**Possible Answers**  

* *cd*  

* *pwd*  

* *rm*  

* *echo*  

**ANSWER: **  


### Q2

You can‚Äôt use your computer‚Äôs mouse in a terminal. How can you see a line of code that you executed previously?  

**Possible Answers**  

* Type *pwd*  

* Type *echo*  

* Use the up arrow  

* Press the enter key  

**ANSWER: **  



### Q3

Assume a student types pwd and gets the following output printed to the screen: /Users/student/Documents.  

Then, the student enters the following commands in sequence:  

*mkdir projects*  

*cd projects*  

What will be printed to the screen if the student types pwd after executing the two lines of code shown above?  

**Possible Answers**  

* /Users/student/Documents  

* /Users/student/Documents/projects  

* /Users/student  

* cd: projects: No such file or directory  

**ANSWER: **  



### Q4

Which of the following statements does NOT correctly describe the utility of a command in Unix?  

**Possible Answers**  

* The ùëû key exits the viewer when you use *less* to view a file.  

* The command *ls* lists files in the current directory.  

* The command *mkdir* makes a new directory and moves into it.  

* The *mv* command can move a file and change the name of a file.  

**ANSWER: **  



### Q5

The following is the full path to a homework assignment file called "assignment.txt": /Users/student/Documents/projects/homeworks/assignment.txt.  

Which line of code will allow you to move the assignment.txt file from the ‚Äúhomeworks‚Äù directory into the parent directory ‚Äúprojects‚Äù?  

**Possible Answers**  

* mv assignment.txt  

* mv assignment.txt .  

* mv assignment.txt ..  

* mv assignment.txt /projects  

**ANSWER: **  


### Q6

You want to move a file called assignment.txt into your projects directory. However, there is already a file called "assignment.txt" in the projects directory.  

What happens when you execute the ‚Äúmove‚Äù (mv) command to move the file into the new directory?  

**Possible Answers**  

* The moved "assignment.txt" file replaces the old "assignment.txt" file that was in the "projects" directory with no warning.  

* An error message warns you that you are about to overwrite an existing file and asks if you want to proceed.  

* An error message tells you that a file already exists with that name and asks you to rename the new file.  

* The moved ‚Äúassignment.txt‚Äù file is automatically renamed ‚Äúassignment.txt (copy)‚Äù after it is moved into the ‚Äúprojects‚Äù directory.  

**ANSWER: **  


### Q7

What does each of ~, ., .., / represent, respectively?  

**Possible Answers**  

* Current directory, Home directory, Root directory, Parent directory  

* Home directory, Current directory, Parent directory, Root directory  

* Home directory, Hidden directory, Parent directory, Root directory  

* Root directory, Current directory, Parent directory, Home directory  

* Home directory, Parent directory, Home directory, Root directory  

**ANSWER: **  


### Q8

Suppose you want to delete your project directory at ./myproject. The directory is not empty - there are still files inside of it.  

Which command should you use?  

**Possible Answers**  

* rmdir myproject  

* rmdir ./myproject  

* rm -r myproject  

* rm ./myproject  

**ANSWER: **  


### Q9

The source() function reads a script from a url or file and evaluates it. Check ?source in the R console for more information.  

Suppose you have an R script at *~/myproject/R/plotfig.R* and *getwd()* shows *~/myproject/result*, and you are running your R script with *source('~/myproject/R/plotfig.R')*.  

Which R function should you write in plotfig.R in order to correctly produce a plot in *~/myproject/result/fig/barplot.png*?  

**Possible Answers**  

* ggsave('fig/barplot.png'), because this is the relative path to the current working directory.  

* ggsave('../result/fig/barplot.png'), because this is the relative path to the source file ("plotfig.R").  

* ggsave('result/fig/barplot.png'), because this is the relative path to the project directory.  

* ggsave('barplot.png'), because this is the file name.  

**ANSWER: **  


### Q10

Which of the following statements about the terminal are not correct? Select ALL that apply.  

**Possible Answers**  

* *echo* is similar to *cat* and can be used to print.  

* The up arrow can be used to go back to a command you just typed.  

* You can click on the terminal to change the position of the cursor  

* For a long command that spans three lines, we can use the up-arrow to navigate the cursor to the first line.  

**ANSWER: **  


### Q11

Which of the following statements about the filesystem is not correct?  

**Possible Answers**  

* The home directory is where the system files that come with your computer exist.  

* The name of the home directory is likely the same as the username on the system.  

* File systems on Windows and Mac are different in some ways.  

* Root directory is the directory that contains all directories.  

**ANSWER: **  


### Q12

Which of the following meanings for options following less are not correct? (Hint: use *man less* to check.)  

**Possible Answers**  

* *-g*: Highlights current match of any searched string  

* *-i*: case-insensitive searches  

* *-S*: automatically save the search object  

* *-X*: leave file contents on screen when less exits.  

**ANSWER: **  


### Q13

Which of the following statements is incorrect about preparation for a data science project? Select ALL that apply.  

**Possible Answers**  

* Always use absolute paths when working on a data science project.  

* Saving .RData every time you exit R will keep your collaborator informed of what you did.  

* Use ggsave to save generated files for use in a presentation or a report.  

* Saving your code in a Word file and inserting output images is a good idea for making a reproducible report.  

**ANSWER: **  


